<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Akıllı Sera Otomasyon Sistemi</title>
    <f:metadata>
        <f:event type="preRenderView" listener="#{userBean.setUserBean}"/>
    </f:metadata>
    <h:outputStylesheet library="css" name="style.css"/>
</h:head>
<h:body>

    <!--Sayfanın üst kısmında yer alır-->
    <p:layout fullPage="true">
        <p:layoutUnit position="north">
            <h:form id="menuBarForm">
                <p:menubar>
                    <f:facet name="options">
                        <p:commandButton value="Anasayfa" actionListener="#{navigationBean.main}" update="@(#myForm)"/>
                        <p:commandButton value="Çıkış" icon="ui-icon-extlink" action="#{loginBean.logout}"/>
                    </f:facet>
                </p:menubar>
            </h:form>
        </p:layoutUnit>

        <!--Menü kısmı yer alır-->
        <p:layoutUnit position="west" header="Menu" collapsible="true">
            <h:form id="centerForm">
                <p:growl autoUpdate="true"/>
                <p:panelMenu>
                    <p:submenu label="Kullanıcı İşlemleri">
                        <p:menuitem value="Anasayfa " actionListener="#{navigationBean.main}" update="@(#myForm)"/>
                        <p:menuitem value="Hesabım" actionListener="#{navigationBean.account}" update="@(#myForm)"/>
                        <p:menuitem value="Ayarlar" actionListener="#{navigationBean.settings}" update="@(#myForm)"/>
                    </p:submenu>
                    <p:submenu label="Yönetim İşlemleri">
                        <p:menuitem value="Kullanıcı Listesi" actionListener="#{navigationBean.user_list}"
                                    update="@(#myForm)"/>
                        <p:menuitem value="Kullanıcı Ekle" actionListener="#{navigationBean.add_user}"
                                    update="@(#myForm)"/>
                        <p:menuitem value="Sera Listesi" actionListener="#{navigationBean.green_house_list}"
                                    update="@(#myForm)"/>
                        <p:menuitem value="Sera Ekle" actionListener="#{navigationBean.add_green_house}"
                                    update="@(#myForm)"/>
                        <p:menuitem value="Ürün Listesi" actionListener="#{navigationBean.product_list}"
                                    update="@(#myForm)"/>
                        <p:menuitem value="Ürün Ekle" actionListener="#{navigationBean.add_product}"
                                    update="@(#myForm)"/>
                    </p:submenu>
                </p:panelMenu>
            </h:form>
        </p:layoutUnit>

        <!--Sayfanın sağında yer alır anlık bilgiler güncellenir-->
        <p:layoutUnit position="east" header="Sera Bilgileri" resizable="true" closable="true" collapsible="true"
                      effect="drop">
            <h:outputText value="Sera ile ilgili burada otomatik olarak güncellenecek"/>
        </p:layoutUnit>

        <!--Sayfanın orta kısmında yer alır kullanıcı tarafından menüden seçiilen kısımla yenilenir-->
        <p:layoutUnit position="center">
            <h:form style="height: 100%" id="myForm">
                <iframe src="#{navigationBean.navigation()}" frameborder="0" style=" width: 100%; height: 100%"/>
            </h:form>
        </p:layoutUnit>
    </p:layout>
</h:body>
</html>